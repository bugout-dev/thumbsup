<!DOCTYPE html>
<html lang="en">
<head>
    <title>Bugout Thumbsup</title>
    <meta charset="utf-8">
    <!-- FONT
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

    <!-- CSS
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/skeleton.css">
</head>

<body>
    <div class="container" id="heading">
        <div class="row">
            <div class="six columns offset-by-four">
                <h2>Bugout Thumbsup</h2>
            </div>
        </div>
        <hr>
        <div class="row">
            <div class="one columns offset-by-eleven">
                <a href="/index.html">Home</a>
            </div>
        </div>
    </div>
    <div class="container" id="results-div">
    {% if summary.summarizer == "github_issue" %}
    {% set issue = summary.issue %}
    {% set comments = summary.comments %}
    {% set emojis = summary.emojis %}
        <div class="row">
            <div class="ten columns offset-by-one">
            <b>Summary</b> for <a href="{{url}}">{{url}}</a> by <a href="{{issue.user.html_url}}">{{issue.user.login}}</a>:
            </div>
        </div>
        <div class="row">
            <div class="ten columns offset-by-one">
                {% for emoji, icon in emojis.items() %}
                {% if emoji in issue.reactions %}
                {{icon}}: {{issue.reactions[emoji]}} &nbsp;&nbsp;&nbsp;
                {% endif %}
                {% endfor %}
            </div>
            <div class="ten columns offset-by-one">
                {{issue.body | markdown}}
            </div>
        </div>
        <div class="row">
            <hr>
            <div class="ten columns offset-by-one">
            <b>Comments</b>:
            </div>
        </div>
        {% if comments | length %}
        {% for item in comments %}
        <div class="row">
            <div class="ten columns offset-by-two">
            <hr>
            <em>
                <a href="{{item.html_url}}">Comment</a> by <a href="{{item.user.html_url}}">{{item.user.login}}</a> at {{item.updated_at}}
            </em>
            </div>
        </div>
        <div class="row">
            <div class="ten columns offset-by-two">
                {% for emoji, icon in emojis.items() %}
                {% if emoji in item.reactions %}
                {{icon}}: {{item.reactions[emoji]}} &nbsp;&nbsp;&nbsp;
                {% endif %}
                {% endfor %}
            </div>
        </div>
        <br>
        <div class="row">
            <div class="ten columns offset-by-two">
            {{item.body | markdown}}
            </div>
        </div>
        {% endfor %}
        {% else %}
        <div class="ten columns offset-by-two">
        No comments stood out to me on that issue.
        </div>
        {% endif %}
    {% elif summary.summarizer == "stackoverflow_question" %}
    {% set question = summary.question %}
    {% set accepted_answer = summary.accepted_answer %}
        <div class="row">
            <div class="ten columns offset-by-one">
            <b>Summary</b> for <a href="{{question.link}}">{{question.title}}</a> by <a href="{{question.owner.link}}">{{question.owner.display_name}}</a>:
            </div>
        </div>
        <div class="row">
            <div class="ten columns offset-by-one">
                {{question.body | safe}}
            </div>
        </div>
        <div class="row">
            <hr>
            <div class="ten columns offset-by-one">
            <b>Accepted Answer</b>:
            </div>
        </div>
        {% if accepted_answer %}
        <div class="row">
            <div class="ten columns offset-by-two">
            <hr>
            <em>
                <a href="{{accepted_answer.link}}">Answer</a> by <a href="{{accepted_answer.owner.link}}">{{accepted_answer.owner.display_name}}</a>
            </em>
            </div>
        </div>
        <div class="row">
            <div class="ten columns offset-by-two">
            {{accepted_answer.body | safe}}
            </div>
        </div>
        {% else %}
        No accepted answer for question.
        {% endif %}
    {% endif %}
    </div>
</body>
</html>
